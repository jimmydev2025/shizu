(this.webpackJsonp=this.webpackJsonp||[]).push([[19],{1508:function(t,e,n){t.exports={}},1588:function(t,e,n){"use strict";n(1508)},1628:function(t,e,n){"use strict";n.r(e);n(23),n(20),n(33),n(44),n(51),n(35),n(19);var r=n(7),o=(n(43),n(135),n(688),n(136),n(6),n(29)),c=n(9),d=n(46),h=n(60),l=n(82);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"CardVisual",props:{data:{type:Object,required:!0},index:{type:Number,required:!0},activeCard:{type:Number,required:!0},addStickers:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},loop:{type:Boolean,default:!0}},data:function(){return{bounding:null,dragging:!1,discarding:!1,startX:0,startY:0,targetX:0,targetY:0,rotation:null,targetR:0,savedR:0,tierColors:[{background:"#CEFB51",text:"#1C1616"},{background:"#2eaff5",text:"#1C1616"},{background:"#912EF5",text:"#FFFFF7"},{background:"#DAA51E",text:"#1C1616"},{background:"#ffbe11",text:"#1C1616"}],tierColorsDefault:{background:"#494949",text:"#FFFFF7"}}},computed:m(m({},Object(h.b)({mintList:"rewards/mintList"})),{},{isInMintList:function(){var t=this;return!(!this.reveal||!this.data.id)&&this.mintList.find((function(e){return e.id===t.data.id}))},tierColor:function(){if(this.reveal)return this.data&&this.data.tier&&this.tierColors[this.data.tier-1]?this.tierColors[this.data.tier-1]:this.tierColorsDefault}}),mounted:function(){this.setReady()},beforeDestroy:function(){this.removeEventListeners()},methods:{replaceO:function(t){return Object(l.h)(t)},getStickerStyle:function(){var t=Math.random()<.5?"x":"y",e=Math.floor(100*Math.random()),n="x"===t?Math.random()<.5?0:100:e,r="y"===t?Math.random()<.5?0:100:e;return"--x:".concat(n,"%; --y:").concat(r,"%; --rotation:").concat(Object(l.i)(-10,10),"deg")},addEventListeners:function(){d.a.isTouch?(this.$el.addEventListener("touchstart",this.interactiveStart),document.addEventListener("touchmove",this.interactiveMove),document.addEventListener("touchend",this.interactiveEnd)):(this.$el.addEventListener("mousedown",this.interactiveStart),document.addEventListener("mousemove",this.interactiveMove),document.addEventListener("mouseup",this.interactiveEnd))},removeEventListeners:function(){d.a.isTouch?(this.$el.removeEventListener("touchstart",this.interactiveStart),document.removeEventListener("touchmove",this.interactiveMove),document.removeEventListener("touchend",this.interactiveEnd)):(this.$el.removeEventListener("mousedown",this.interactiveStart),document.removeEventListener("mousemove",this.interactiveMove),document.removeEventListener("mouseup",this.interactiveEnd))},interactiveStart:function(t){this.reveal&&"BUTTON"===t.target.tagName||this.index-1!==this.activeCard||(t.preventDefault(),o.a.killTweensOf(this.$el),document.documentElement.classList.add("--grabbing"),this.dragging=!0,this.targetR=this.savedR=o.a.getProperty(this.$el,"rotation"),this.startX=t.clientX||t.touches[0].clientX,this.startY=t.clientY||t.touches[0].clientY,o.a.to(this.$el,{scale:.95,duration:.5,ease:"expo.out"}))},interactiveMove:function(t){if(this.dragging){t.preventDefault();var e=(t.clientX||t.touches[0].clientX)-this.startX,n=(t.clientY||t.touches[0].clientY)-this.startY;this.targetX=e,this.targetY=n,this.targetR=this.savedR+this.rotation(this.targetX),o.a.set(this.$el,{rotation:this.targetR,x:this.targetX,y:this.targetY})}},interactiveEnd:function(t){var e=this;if(this.dragging){document.documentElement.classList.remove("--grabbing"),this.dragging=!1;var n=(t.clientX||t.changedTouches[0].clientX)-this.startX,r=(t.clientY||t.changedTouches[0].clientY)-this.startY,c=150;this.targetX=0,this.targetY=0,(n>c||n<-150||r>c||r<-150)&&!this.$parent.animating?(this.discard(),o.a.to(this.$el,{scale:1,duration:.5,ease:"expo.out"})):o.a.to(this.$el,{rotation:this.reveal?this.index%2==0?-6.5:7:this.index%2==0?-3:2.5,x:this.reveal?this.index%2==0?-15:15:0,y:0,scale:1,duration:.75,ease:"expo.out",onComplete:function(){e.targetX=0,e.targetY=0}})}},onResize:function(){this.bounding=this.$el.getBoundingClientRect(),this.rotation=this.lerp(0,this.bounding.width/2,0,10,{noClamp:!0})},lerp:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=e-t,d=r-n;return function(e){return e=o.absolute?Math.abs(e):e,(o.noClamp?(e-t)/c:Math.max(Math.min((e-t)/c,1),0))*d+n}},discard:function(){this.discarding=!0,this.$root.$emit("cards:next",1)},setReady:function(){this.onResize(),this.addEventListeners()},generateRandomNumber:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},animateInView:function(t){var e=t.delay,n=void 0===e?0:e,r=this.reveal?this.index%2==0?this.generateRandomNumber(-6.5,1):this.generateRandomNumber(5,7):this.index%2==0?-3:2.5;o.a.timeline({paused:!0}).fromTo(this.$el,{autoAlpha:0},{autoAlpha:1,duration:.3},n).fromTo(this.$el,{rotation:0,x:c.a.width/2*-1},{rotation:r,duration:.8,x:this.reveal?this.index%2==0?-15:15:0},n).restart()},animateOutView:function(){o.a.set(this.$el,{autoAlpha:0})},animateIn:function(t){t.delay},animateOut:function(t){var e=this,n=t.direction,r=this.discarding?o.a.getProperty(this.$el,"x"):n,d=n?Object(l.i)(-1,1):o.a.getProperty(this.$el,"y");return o.a.timeline({paused:!0,onComplete:function(){e.discarding=!1}}).set(this.$el,{zIndex:15}).to(this.$el,{x:c.a.width*Math.sign(r),y:c.a.height*Math.sign(d),duration:1.2,ease:"power2.inOut"},0).set(this.$el,{clearProps:this.loop?"all":""}).restart()},addMintlist:function(){this.$store.commit("cart/ADD_TO_MINT_LIST",this.data)}}},y=f,x=(n(1588),n(15)),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-visual",attrs:{draggable:"false"}},[e("div",{staticClass:"card-visual__image",attrs:{"data-src":t.data.sticker&&t.data.sticker.src}},[e("client-only",[t.addStickers&&t.data.sticker?e("nuxt-img",{staticClass:"card-visual__image__sticker",style:t.getStickerStyle(),attrs:{src:t.data.sticker.original,format:"webp",loading:"lazy",width:340,height:340,alt:"Chainzoku Sticker"}}):t._e()],1),t._v(" "),e("img",{staticClass:"card-visual__image__asset",attrs:{src:t.data.image.src,width:t.data.image.width,height:t.data.image.height,loading:"lazy",alt:"Chainzoku card"}})],1),t._v(" "),t.reveal?e("div",{staticClass:"card-visual__info"},[e("div",[t.data.label?e("Typography-Underlined",{attrs:{text:t.data.label,"text-color":t.tierColor.text,"background-color":t.tierColor.background,tier:t.data.tier,"allow-breaks":!0}}):t._e()],1),t._v(" "),t.data.name?e("p",{staticClass:"name",domProps:{textContent:t._s(t.replaceO(t.data.name))}}):t._e()]):t._e()])}),[],!1,null,null,null);e.default=component.exports}}]);